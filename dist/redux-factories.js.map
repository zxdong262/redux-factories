{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///redux-factories.js","webpack:///webpack/bootstrap 9d516c7705fa2023db58","webpack:///./src/index.js"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","reducerFactory","initState","types","constantFactory","mutate","prop","assign","state","arguments","length","undefined","action","mutations","keys","forEach","typ","arr","split","method","target","act","data","rt","slice","concat","arr0","compare","len","item","res","splice","func","type","methods","Array","isArray","met","name","freeze"],"mappings":"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","file":"redux-factories.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.reducerFactory = reducerFactory;\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar constantFactory = function constantFactory(initState) {\n\t    var obj = {};\n\t    var keys = Object.keys(initState);\n\t    keys.forEach(function (key) {\n\t        var value = initState[key];\n\t        var methods = ['set'];\n\t        if (Array.isArray(value)) {\n\t            methods = ['set', 'add', 'del', 'update'];\n\t        }\n\t        methods.forEach(function (met) {\n\t            var name = met + '_' + key;\n\t            obj[name] = name;\n\t        });\n\t    });\n\t    return Object.freeze(obj);\n\t};\n\t\n\texports.constantFactory = constantFactory;\n\tfunction reducerFactory(initState) {\n\t\n\t    var types = constantFactory(initState);\n\t\n\t    return function () {\n\t        var state = arguments.length <= 0 || arguments[0] === undefined ? initState : arguments[0];\n\t        var action = arguments[1];\n\t\n\t\n\t        var mutations = {};\n\t\n\t        function mutate(prop) {\n\t            return Object.assign({}, state, prop);\n\t        }\n\t\n\t        //build mutation tree\n\t        Object.keys(types).forEach(function (typ) {\n\t\n\t            var arr = typ.split('_');\n\t            var method = arr[0];\n\t            var target = arr[1];\n\t            var act = void 0;\n\t            if (method === 'set') {\n\t                act = function act(action) {\n\t                    var obj = _defineProperty({}, target, action.data);\n\t                    return mutate(obj);\n\t                };\n\t            } else if (method === 'add') {\n\t                act = function act(action) {\n\t                    var rt = target;\n\t                    var obj = _defineProperty({}, rt, state[rt].slice(0).concat(action.data));\n\t                    return mutate(obj);\n\t                };\n\t            } else if (method === 'del') {\n\t                act = function act(action) {\n\t                    var rt = target;\n\t                    var arr0 = state[rt].slice(0);\n\t                    var data = action.data;\n\t                    var compare = action.compare;\n\t                    for (var i = 0, len = arr0.length; i < len; i++) {\n\t                        var item = arr0[i];\n\t                        var res = compare ? compare(item, data) : item.id === data.id;\n\t                        if (res) {\n\t                            arr0.splice(i, 1);\n\t                            break;\n\t                        }\n\t                    }\n\t                    var obj = _defineProperty({}, rt, arr0);\n\t                    return mutate(obj);\n\t                };\n\t            } else if (method === 'update') {\n\t                act = function act(action) {\n\t                    var rt = target;\n\t                    var arr0 = state[rt].slice(0);\n\t                    var data = action.data;\n\t                    var compare = action.compare;\n\t                    for (var i = 0, len = arr0.length; i < len; i++) {\n\t                        var item = arr0[i];\n\t                        var res = compare ? compare(item, data) : item.id === data.id;\n\t                        if (res) {\n\t                            arr0.splice(i, 1, Object.assign({}, item, data));\n\t                            break;\n\t                        }\n\t                    }\n\t                    var obj = _defineProperty({}, rt, arr0);\n\t                    return mutate(obj);\n\t                };\n\t            }\n\t            mutations[typ] = act;\n\t        });\n\t\n\t        var func = mutations[action.type];\n\t        if (func) return func(action);else return mutate({});\n\t    };\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** redux-factories.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9d516c7705fa2023db58\n **/","const constantFactory = function(initState) {\n    let obj = {}\n    let keys = Object.keys(initState)\n    keys.forEach(key => {\n        let value = initState[key]\n        let methods = ['set']\n        if (Array.isArray(value)) {\n            methods = ['set', 'add', 'del', 'update']\n        }\n        methods.forEach(met => {\n            let name = met + '_' + key\n            obj[name] = name\n        })\n    })\n    return Object.freeze(obj)\n}\n\nexport { constantFactory }\n\nexport function reducerFactory(initState) {\n\n    let types = constantFactory(initState)\n\n    return function(state = initState, action) {\n\n        let mutations = {}\n\n        function mutate(prop) {\n            return Object.assign({}, state, prop)\n        }\n\n        //build mutation tree\n        Object.keys(types).forEach(typ => {\n\n            let arr = typ.split('_')\n            let method = arr[0]\n            let target = arr[1]\n            let act\n            if (method === 'set') {\n                act = action => {\n                    let obj = {\n                        [target]: action.data\n                    }\n                    return mutate(obj)\n                }\n            } else if (method === 'add') {\n                act = action => {\n                    let rt = target\n                    let obj = {\n                        [rt]: state[rt].slice(0).concat(action.data)\n                    }\n                    return mutate(obj)\n                }\n            } else if (method === 'del') {\n                act = action => {\n                    let rt = target\n                    let arr0 = state[rt].slice(0)\n                    let data = action.data\n                    let compare = action.compare\n                    for (let i = 0, len = arr0.length; i < len; i++) {\n                        let item = arr0[i]\n                        let res = compare ? compare(item, data) : item.id === data.id\n                        if (res) {\n                            arr0.splice(i, 1)\n                            break\n                        }\n                    }\n                    let obj = {\n                        [rt]: arr0\n                    }\n                    return mutate(obj)\n                }\n            } else if (method === 'update') {\n                act = action => {\n                    let rt = target\n                    let arr0 = state[rt].slice(0)\n                    let data = action.data\n                    let compare = action.compare\n                    for (let i = 0, len = arr0.length; i < len; i++) {\n                        let item = arr0[i]\n                        let res = compare ? compare(item, data) : item.id === data.id\n                        if (res) {\n                            arr0.splice(i, 1, Object.assign({}, item, data))\n                            break\n                        }\n                    }\n                    let obj = {\n                        [rt]: arr0\n                    }\n                    return mutate(obj)\n                }\n            }\n            mutations[typ] = act\n        })\n\n        let func = mutations[action.type]\n        if (func) return func(action)\n        else return mutate({})\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/"],"sourceRoot":""}