{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///redux-factories.min.js","webpack:///webpack/bootstrap dd262044e30643e87bae","webpack:///./src/index.js"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","constantFactory","initState","keys","forEach","methods","Array","isArray","met","name","custom","freeze","deepCopy","src","_typeof","ret","slice","length","dest","reducerFactory","types","mutate","prop","assign","state","arguments","undefined","action","mutations","typ","arr","split","method","target","act","data","rt","_action$method","res","arr0","compare","_action$prop","len","item","splice","_action$prop2","type","func","Symbol","iterator","constructor","prototype"],"mappings":"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","file":"redux-factories.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\texports.constantFactory = constantFactory;\n\texports.deepCopy = deepCopy;\n\texports.reducerFactory = reducerFactory;\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\t/**\n\t * constantFactory\n\t * create constant from initState\n\t * @param {*} initState\n\t */\n\tfunction constantFactory(initState) {\n\t  var obj = {};\n\t  var keys = Object.keys(initState);\n\t  keys.forEach(function (key) {\n\t    var value = initState[key];\n\t    var methods = ['set'];\n\t    if (Array.isArray(value)) {\n\t      methods = ['set', 'add', 'del', 'update'];\n\t    }\n\t    methods.forEach(function (met) {\n\t      var name = met + '_' + key;\n\t      obj[name] = name;\n\t    });\n\t  });\n\t  obj.custom = 'custom';\n\t  return Object.freeze(obj);\n\t}\n\t\n\t/**\n\t * simplified version of deepCopy\n\t * only for plain object, no regexp, no date, no fucntion\n\t * from http://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript\n\t */\n\tfunction deepCopy(src) {\n\t  if (src === null || (typeof src === 'undefined' ? 'undefined' : _typeof(src)) !== 'object') {\n\t    return src;\n\t  }\n\t  if (Array.isArray(src)) {\n\t    var ret = src.slice();\n\t    var i = ret.length;\n\t    while (i--) {\n\t      ret[i] = deepCopy(ret[i]);\n\t    }\n\t    return ret;\n\t  }\n\t  var dest = {};\n\t  for (var key in src) {\n\t    dest[key] = deepCopy(src[key]);\n\t  }\n\t  return dest;\n\t}\n\t\n\t/**\n\t * reducerFactory\n\t * create reducer from initState\n\t * @param {object} initState\n\t */\n\tfunction reducerFactory(initState) {\n\t\n\t  var types = constantFactory(initState);\n\t\n\t  return function () {\n\t    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n\t    var action = arguments[1];\n\t\n\t\n\t    var mutations = {};\n\t\n\t    function mutate(prop) {\n\t      return Object.assign(deepCopy(state), prop);\n\t    }\n\t\n\t    //build mutation tree\n\t    Object.keys(types).forEach(function (typ) {\n\t\n\t      var arr = typ.split('_');\n\t      var method = arr[0];\n\t      var target = arr[1];\n\t      var act = void 0;\n\t      if (method === 'set') {\n\t        act = function act(action) {\n\t          var obj = _defineProperty({}, target, deepCopy(action.data));\n\t          return mutate(obj);\n\t        };\n\t      } else if (method === 'add') {\n\t        act = function act(action) {\n\t          var rt = target;\n\t          var _action$method = action.method,\n\t              method = _action$method === undefined ? 'unshift' : _action$method;\n\t\n\t          var res = deepCopy(state[rt]);\n\t          res[method](deepCopy(action.data));\n\t          var obj = _defineProperty({}, rt, res);\n\t          return mutate(obj);\n\t        };\n\t      } else if (method === 'del') {\n\t        act = function act(action) {\n\t          var rt = target;\n\t          var arr0 = deepCopy(state[rt]);\n\t          var data = action.data,\n\t              compare = action.compare,\n\t              _action$prop = action.prop,\n\t              prop = _action$prop === undefined ? 'id' : _action$prop;\n\t\n\t          for (var i = 0, len = arr0.length; i < len; i++) {\n\t            var item = arr0[i];\n\t            var res = compare ? compare(item, data) : item[prop] === data[prop];\n\t            if (res) {\n\t              arr0.splice(i, 1);\n\t              break;\n\t            }\n\t          }\n\t          var obj = _defineProperty({}, rt, arr0);\n\t          return mutate(obj);\n\t        };\n\t      } else if (method === 'update') {\n\t        act = function act(action) {\n\t          var rt = target;\n\t          var arr0 = deepCopy(state[rt]);\n\t          var data = action.data,\n\t              compare = action.compare,\n\t              _action$prop2 = action.prop,\n\t              prop = _action$prop2 === undefined ? 'id' : _action$prop2;\n\t\n\t          for (var i = 0, len = arr0.length; i < len; i++) {\n\t            var item = arr0[i];\n\t            var res = compare ? compare(item, data) : item[prop] === data[prop];\n\t            if (res) {\n\t              arr0.splice(i, 1, Object.assign(item, data));\n\t              break;\n\t            }\n\t          }\n\t          var obj = _defineProperty({}, rt, arr0);\n\t          return mutate(obj);\n\t        };\n\t      }\n\t      mutations[typ] = act;\n\t    });\n\t    if (action.type === 'custom') {\n\t      return action.func(deepCopy(state));\n\t    }\n\t    var func = mutations[action.type];\n\t    if (func) return func(action);else return mutate({});\n\t  };\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// redux-factories.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dd262044e30643e87bae","/**\n * constantFactory\n * create constant from initState\n * @param {*} initState\n */\nexport function constantFactory(initState) {\n  let obj = {}\n  let keys = Object.keys(initState)\n  keys.forEach(key => {\n    let value = initState[key]\n    let methods = ['set']\n    if (Array.isArray(value)) {\n      methods = ['set', 'add', 'del', 'update']\n    }\n    methods.forEach(met => {\n      let name = met + '_' + key\n      obj[name] = name\n    })\n  })\n  obj.custom = 'custom'\n  return Object.freeze(obj)\n}\n\n/**\n * simplified version of deepCopy\n * only for plain object, no regexp, no date, no fucntion\n * from http://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript\n */\nexport function deepCopy(src) {\n  if(src === null || typeof(src) !== 'object'){\n    return src\n  }\n  if (Array.isArray(src)) {\n      let ret = src.slice()\n      let i = ret.length\n      while (i--) {\n        ret[i] = deepCopy(ret[i])\n      }\n      return ret\n  }\n  let dest = {}\n  for (var key in src) {\n    dest[key] = deepCopy(src[key])\n  }\n  return dest\n}\n\n/**\n * reducerFactory\n * create reducer from initState\n * @param {object} initState\n */\nexport function reducerFactory(initState) {\n\n  let types = constantFactory(initState)\n\n  return function (state = initState, action) {\n\n    let mutations = {}\n\n    function mutate(prop) {\n      return Object.assign(deepCopy(state), prop)\n    }\n\n    //build mutation tree\n    Object.keys(types).forEach(typ => {\n\n      let arr = typ.split('_')\n      let method = arr[0]\n      let target = arr[1]\n      let act\n      if (method === 'set') {\n        act = action => {\n          let obj = {\n            [target]: deepCopy(action.data)\n          }\n          return mutate(obj)\n        }\n      } else if (method === 'add') {\n        act = action => {\n          let rt = target\n          let {method = 'unshift'} = action\n          let res = deepCopy(state[rt])\n          res[method](deepCopy(action.data))\n          let obj = {\n            [rt]: res\n          }\n          return mutate(obj)\n        }\n      } else if (method === 'del') {\n        act = action => {\n          let rt = target\n          let arr0 = deepCopy(state[rt])\n          let {data, compare, prop = 'id'} = action\n          for (let i = 0, len = arr0.length; i < len; i++) {\n            let item = arr0[i]\n            let res = compare ? compare(item, data) : item[prop] === data[prop]\n            if (res) {\n              arr0.splice(i, 1)\n              break\n            }\n          }\n          let obj = {\n            [rt]: arr0\n          }\n          return mutate(obj)\n        }\n      } else if (method === 'update') {\n        act = action => {\n          let rt = target\n          let arr0 = deepCopy(state[rt])\n          let {data, compare, prop = 'id'} = action\n          for (let i = 0, len = arr0.length; i < len; i++) {\n            let item = arr0[i]\n            let res = compare ? compare(item, data) : item[prop] === data[prop]\n            if (res) {\n              arr0.splice(i, 1, Object.assign(item, data))\n              break\n            }\n          }\n          let obj = {\n            [rt]: arr0\n          }\n          return mutate(obj)\n        }\n      }\n      mutations[typ] = act\n    })\n    if (action.type === 'custom') {\n      return action.func(deepCopy(state))\n    }\n    let func = mutations[action.type]\n    if (func) return func(action)\n    else return mutate({})\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}